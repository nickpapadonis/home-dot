#!/bin/sh

OSNAME=`uname`

# source env variables for common
F=~/.profile_cmn
[ -f $F ] && source $F

# source env variables for platform
if [ "$OSNAME" = "Linux" ]; then
	if [ -f ~/.profile_lnx ]; then
		source ~/.profile_lnx
	fi
elif [ "$OSNAME" = "SunOS" ]; then
	if [ -f ~/.profile_sol ]; then
		source ~/.profile_sol
	fi
elif [ "$OSNAME" = "Darwin" ]; then
	if [ -f ~/.profile_macos ]; then
		source ~/.profile_macos
	fi
fi

if (ksh -c 'echo ${.sh.version}') 2>&1 1>/dev/null; then
	case $(ksh -c 'echo ${.sh.version}') in
		*"93u+m/1"*)
			KSH_93UM=1
			;;
		"93u")
			KSH_93U=1
			;;
		*)
			KSH_88=1
			;;
	esac
elif [ -n $KSH_VERSION ]; then
	KSH_88=1
fi

if eval "which emacs >/dev/null"; then
	export VISUAL="emacs"
	export EDITOR="emacs"
elif eval "which vim >/dev/null"; then
	export VISUAL="vim"
	export EDITOR="vim -e"
elif eval "which vi >/dev/null"; then
	export VISUAL="vi"
	export EDITOR="vi -e"
elif eval "which ed >/dev/null"; then
	export EDITOR="ed"
fi
