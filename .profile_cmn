#!/bin/bash

#umask u=rw,g=r,o=
umask 077

#export EDITOR=vim
export PAGER="less -j10 -s -P'--(%pb\%)--'"
export WXDIFFCMD="diff -bwU5"

# create a history directory if it doesn't exit
if [ ! -d $HOME/.hist ]; then
    mkdir -p $HOME/.hist
fi

# deletes process history if the process is not active, these
# are assume exited bash sessions.  note this is only valid
# for single system.
function purge_hist {
    for i in $(comm -23 <(sort -n <(ls $HOME/.hist/history.* | sed "s#$HOME/.hist/history.##"))  <(sort <(for i in $(ps -ex -o pid | sed 1d); do echo $i ; done))); do echo "$HOME/.hist/history.$i"; done | xargs rm
}

#export PYTHONPATH=$HOME/lib/python:$PYTHONPATH
#export http_proxy=HTTP_PROXY=
#export https_proxy=HTTPS_PROXY=

## GNU grep, if available, has colorized output.
grep --version 2> /dev/null | grep GNU >/dev/null 2>&1 && alias grep='grep --color=auto'

[ "`basename $EDITOR`" = "vim" ] && alias vi='vim'

export PATH=/usr/bin:/usr/sbin:/bin:/sbin:/usr/local/bin:/usr/local/sbin
